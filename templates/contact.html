{% extends "base.html" %}

{% block title %}Contact The Trompo King - Get in Touch{% endblock %}

{% block content %}
<div class="contact-header">
    <h1>Contact The Trompo King</h1>
    <p>We'd love to hear from you! Reach out with questions, feedback, or catering inquiries.</p>
</div>

<div class="contact-container">
    <section class="contact-form-section">
        <h2>Send us a Message</h2>
        <form id="contactForm" class="contact-form">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required placeholder="Your full name">
            </div>
            
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required placeholder="your@email.com">
            </div>

            <div class="form-group">
                <label for="phone">Phone (Optional):</label>
                <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567" maxlength="10" pattern="[0-9]{10}">
            </div>
            
            <div class="form-group">
                <label for="subject">Subject:</label>
                <select id="subject" name="subject" required>
                    <option value="">Select a subject...</option>
                    <option value="general">General Inquiry</option>
                    <option value="catering">Catering Request</option>
                    <option value="feedback">Feedback</option>
                    <option value="complaints">Complaint</option>
                    <option value="partnership">Partnership Opportunity</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="6" required placeholder="Tell us what's on your mind..."></textarea>
            </div>
            
            <button type="submit" class="btn btn-primary">Send Message</button>
        </form>
        
        <div id="contactMessage" class="message"></div>
    </section>

    <section class="contact-info-section">
        <h2>Contact Information</h2>
        
        <div class="info-card">
            <h3>üìû Phone Numbers</h3>
            <ul>
                <li><strong>Downtown:</strong> (555) 123-4567</li>
                <li><strong>Midtown:</strong> (555) 234-5678</li>
                <li><strong>Uptown:</strong> (555) 345-6789</li>
            </ul>
        </div>

        <div class="info-card">
            <h3>‚è∞ Hours of Operation</h3>
            <p><strong>Monday - Sunday</strong></p>
            <p>10:00 AM - 11:00 PM</p>
            <p class="note">(Hours may vary by location)</p>
        </div>

        <div class="info-card">
            <h3>üéâ Special Services</h3>
            <ul>
                <li><strong>Catering:</strong> Contact us for event catering</li>
                <li><strong>Large Orders:</strong> Call ahead for bulk orders</li>
                <li><strong>Delivery:</strong> Available through partner apps</li>
                <li><strong>Takeout:</strong> All locations offer takeout</li>
            </ul>
        </div>

        <div class="info-card">
            <h3>üìç Find Us</h3>
            <p>Visit our <a href="/locations">Locations Page</a> for addresses, directions, and interactive maps.</p>
        </div>
    </section>
</div>

<section class="map-section">
    <h2>Visit Our Locations</h2>
    <p>All three The Trompo King locations are waiting to serve you authentic Mexican cuisine!</p>
    <a href="/locations" class="btn btn-primary btn-large">View All Locations & Maps</a>
</section>

<script>
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    
    fetch('/contact', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        const messageDiv = document.getElementById('contactMessage');
        if (data.success) {
            messageDiv.textContent = data.message;
            messageDiv.style.color = '#27ae60';
            messageDiv.className = 'message success';
            document.getElementById('contactForm').reset();
        } else {
            messageDiv.textContent = 'Error sending message. Please try again.';
            messageDiv.style.color = '#e74c3c';
            messageDiv.className = 'message error';
        }
    })
    .catch(error => {
        console.error('Error:', error);
        const messageDiv = document.getElementById('contactMessage');
        messageDiv.textContent = 'Error sending message. Please try again.';
        messageDiv.style.color = '#e74c3c';
        messageDiv.className = 'message error';
    });
});
</script>

{% endblock %}
